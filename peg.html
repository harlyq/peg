<!DOCTYPE html>
<html>

<head>
    <script src="pegparser.js" type="text/javascript"></script>
    <script src="peg.js" type="text/javascript"></script>
    <script>
    window.addEventListener("load", function() {
        var grammarElem = document.getElementById("grammar");
        var myParser = PEGParser(peg.define);

        document.getElementById("parse").addEventListener("click", function() {
            var results = myParser.parse(grammar.value);
            console.log(results);
        });

        grammarElem.value = "\
Comment <- '(*' comment:(Comment / ! '*)' .)* '*)' { return comment; } \n\
Definition <- param: 'a' 'b' 'c' { return param; } \
        ";
    });
    </script>
</head>

<body>
    <textarea id="grammar" cols="60" rows="20"></textarea>
    <div></div>
    <button id="parse">Parse</button>
</body>

</html>
